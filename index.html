<!DOCTYPE html>
<!--
 This file is part of the ros_webconsole package (https://github.com/rbonghi/ros_webconsole or http://rnext.it).
 Copyright (c) 2019 Raffaello Bonghi.
 
 This program is free software: you can redistribute it and/or modify
 it under the terms of the GNU Affero General Public License as published by
 the Free Software Foundation, either version 3 of the License, or
 (at your option) any later version.
 
 This program is distributed in the hope that it will be useful,
 but WITHOUT ANY WARRANTY; without even the implied warranty of
 MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 GNU Affero General Public License for more details.
 
 You should have received a copy of the GNU Affero General Public License
 along with this program. If not, see <http://www.gnu.org/licenses/>.
-->
<html>

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- jQuery Mobile online -->
  <link rel="stylesheet" href="http://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.css" />
  <script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
  <script type="text/javascript" src="https://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.js"></script>
  <!-- jQuery Mobile offline -->
  <!--<link href="jquery/jquery.mobile-1.4.5.min.css" rel="stylesheet" />
  <script src="jquery/jquery-2.1.0.js"></script>
  <script src="jquery/jquery.mobile-1.4.5.min.js"></script>-->
  <!-- ROS libs online -->
  <script type="text/javascript" src="https://static.robotwebtools.org/EventEmitter2/current/eventemitter2.js"></script>
  <script type="text/javascript" src="https://static.robotwebtools.org/roslibjs/current/roslib.js"></script>
  
  <!-- Load page controller -->
  <script src="js/navbar.js"></script>
  <script src="js/ros_controller.js"></script>

  <script>
    $(document).ready(function() {
        // Load pages
        var name = 'ROS Web console';
        /* Optional to set new or add new pages
        var pages = [{'id': '3Dmap', 'icon': 'navigation'},
                     {'id': '2Dmap', 'icon': 'location'},
                     {'id': 'Diagnostic', 'icon': 'gear'}];
        */
        var pages = ros_pages.find();
        // Build Navigation bar menu
        var cpages = new ros_pages.controller(name, pages);
        // Initialize ros controller
        var ros = new ros_controller.connection({
            address: 'ws://localhost:9090',
            on_connect: ros_pages.connect,
            on_error: ros_pages.error,
        });
    });
  </script>
</head>

<body>
<!-- Configuration page -->
<div data-role="panel" id="configpanel" data-theme="a" data-display="overlay" data-position="left" data-swipe-close="false">
<form>
     <label for="ros-server">ROS server:</label>
     <input type="url" data-ajax="false" data-clear-btn="true" name="ros-server" id="ros-server" value="ws://" placeholder="ws://localhost:9090">
     <button id="ros-connect-button" class="ui-btn ui-shadow">Connect</button>
</form>
</div>
  <!-- pages -->
  <div data-role="page" id="3Dmap" data-title="3D map" data-icon="navigation">
    <div role="main" class="ui-content">
        <h1>3D map</h1>
    </div>
  </div>
  <div data-role="page" id="2Dmap" data-title="2D map" data-icon="location">
    <div role="main" class="ui-content">
        <h1>2D map</h1>
    </div>
  </div>
  <div data-role="page" id="Diagnostic" data-title="Diagnostic" data-icon="gear">
    <div role="main" class="ui-content">
        <h1>Diagnostic</h1>
    </div>
  </div>
</body>

</html>
